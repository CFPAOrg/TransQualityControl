<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <title>质量管控报告</title>
    <link rel="stylesheet" href="./css/index.css">
    <link href="//netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
</head>

<body>
    <div class="main">
        <h1>翻译质量检查报告</h1>
        <h2>
            <i class="fa fa-calendar"></i> 2018-06-18 15:05:32</h2>
        <div class="sub">
            <h2>格式符检查报告</h2>
            <table cellspacing="0" id="format">
                <tr>
                    <th style="width:3%">编号</th>
                    <th style="width:8%">模组ID</th>
                    <th style="width:10%">key</th>
                    <th>英文文本</th>
                    <th>中文文本</th>
                    <th style="width:8%">Weblate</th>
                </tr>
                <tr v-for="(format, index) in formats">
                    <td style="width:3%">{{ index + 1 }}</td>
                    <td style="width:8%">{{ format.modid }}</td>
                    <td style="width:10%">{{ format.key }}</td>
                    <td>{{ format.en_us }}</td>
                    <td>{{ format.zh_cn }}</td>
                    <td style="width:8%">
                        <a :href="'https://weblate.sayori.pw/translate/langpack/' + format.modid + '/zh_cn/?q=' + format.key + '&context=on'">[点击进入]</a>
                    </td>
                </tr>
            </table>
        </div>

        <div class="sub">
            <h2>重名key检查报告</h2>
            <table cellspacing="0" id="duplicate">
                <tr>
                    <th style="width:3%">编号</th>
                    <th style="width:10%">key</th>
                    <th style="width:8%">模组ID</th>
                    <th>英文文本</th>
                    <th>中文文本</th>
                    <th style="width:8%">Weblate</th>
                </tr>
                <template v-for="(value, index) in duplicates">
                    <tr>
                        <td style="width:3%" :rowspan="value.items.length + 1">{{ index + 1 }}</td>
                        <td style="width:10%" :rowspan="value.items.length + 1">{{ value.key }}</td>
                    </tr>
                    <template v-for="(v, i) in value.items">
                        <tr>
                            <td style="width:8%">{{ v.mod }}</td>
                            <td>{{ v.en_us }}</td>
                            <td>{{ v.zh_cn }}</td>
                            <td style="width:8%">
                                <a :href="'https://weblate.sayori.pw/translate/langpack/' + v.mod + '/zh_cn/?q=' + value.key + '&context=on'">[点击进入]</a>
                            </td>
                        </tr>
                    </template>
                </template>
            </table>
        </div>
        <div class="sub">
            <h2>语言文件串行检查报告</h2>
            <table cellspacing="0" id="branch">
                <tr>
                    <th style="width:2%">编号</th>
                    <th style="width:8%">模组ID</th>
                    <th style="width:10%">key</th>
                    <th>中文文本</th>
                    <th style="width:8%">Weblate</th>
                </tr>
                <tr v-for="(branch, index) in branches">
                    <td style="width:2%">{{ index + 1 }}</td>
                    <td style="width:8%">{{ branch.modid }}</td>
                    <td style="width:10%">{{ branch.key }}</td>
                    <td>{{ branch.zh_cn }}</td>
                    <td style="width:8%">
                        <a :href="'https://weblate.sayori.pw/translate/langpack/' + branch.modid + '/zh_cn/?q=' + branch.key + '&context=on'">[点击进入]</a>
                    </td>
                </tr>
            </table>
        </div>
    </div>

    <script type="module">
        import { formats } from "./json/format.js"
        import { duplicates } from "./json/duplicate.js"
        import { branches } from "./json/branch.js"

        let format = new Vue({
            el: "#format",
            data: {
                formats: formats
            }
        });

        let duplicate = new Vue({
            el: "#duplicate",
            data: {
                duplicates: duplicates
            }
        })

        let branch = new Vue({
            el: "#branch",
            data: {
                branches: branches
            }
        })
    </script>
</body>

</html>